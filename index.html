<!DOCTYPE html>
<html>
  <head>
    <title>Substance</title>
    <link href='styles/fonts/open-sans/open-sans.css' rel='stylesheet' type='text/css'/>
    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='styles/font-awesome.css' rel='stylesheet' type='text/css'/>

    <link href="styles/substance.css" media="screen" rel="stylesheet" type="text/css" />

    <!-- Editor View Styles -->
    <link href="styles/editor.css" media="screen" rel="stylesheet" type="text/css" />

    <!-- Generic Surface Styles -->
    <link href="lib/substance/substance-surface/styles/surface.css" media="screen" rel="stylesheet" type="text/css" />

    <!-- Templates -->
    <script type="text/html" name="substance">

      <!-- Substance Main Menu -->
      <div id="menu">
        <div class="views">
          <a href="#" class="toggle-view document"><i class="icon-edit"></i></a>
        </div>

        <div class="actions">
          <a href="#new" class="action new-document"><i class="icon-plus"></i></a>
          <a href="#tests" class="action testsuite" ><i class="icon-tasks"></i></a>
        </div>
      </div>

      <div id="container">

      </div>

      <!-- Temporary Canvas for image manipulation -->
      <canvas id="canvas" style="display: none;"></canvas>
    </script>

    <!-- Editor -->
    <script type="text/x-ejs-template" name="editor">


      <div class="document-settings shelf">
        <div class="meta">
          <div class="title"><%= "title" %></div>
          <div class="updated-at"><%= "updated_at" %></div>
        </div>

        <div class="label">Creator</div>
        <div class="creator">
          <div class="value"><%= "creator.name" %></div>
        </div>

        <div class="label">Collaborators</div>

        <div class="collaborators">

        </div>

        <!-- Publish Settings -->
        <div class="label">Publications</div>
        <div class="publications">

        </div>
      </div>

      <div id="document_wrapper">
        <div id="composer">
          <div id="document">
            <div class="annotation-toggles">
              <div class="styles">
                <a href="#" class="annotation-toggle emphasis" sbs-click="annotate(emphasis)"><i class="icon-circle-blank"></i></a>
                <a href="#" class="annotation-toggle strong" sbs-click="annotate(strong)"><i class="icon-circle"></i></a>
                <a href="#" class="annotation-toggle link"><i class="icon-link"></i></a>
              </div>

              <div class="markers">
                <a href="#" class="annotation-toggle error" sbs-click="annotate(error)"><i class="icon-exclamation-sign"></i></a>
                <a href="#" class="annotation-toggle question" sbs-click="annotate(question)"><i class="icon-question"></i></a>
                <a href="#" class="annotation-toggle idea" sbs-click="annotate(idea)"><i class="icon-lightbulb"></i></a>
              </div>
            </div>
            <div class="surface">
            </div>
          </div>
        </div>
      </div>
    </script>

    <!-- Substance.Text Node -->
    <script type="text/x-ejs-template" name="text">
      <div class="content"></div>
    </script>

    <!-- Substance.TestCenter -->
    <script type="text/text/x-handlebars-template" name="test_center">
      <div class="test-suites">
        {{#each test_suites}}
          <a class="test-suite {{name}}" sbs-click='showReport({{name}})' href="#tests/{{name}}">
            {{name}}
            <div class="status"></div>
          </a>
        {{/each}}
      </div>

      <div class="test-report">

      </div>

      <div class="test-output">

      </div>
    </script>

    <!-- Substance.TestReport -->
    <script type="text/text/x-handlebars-template" name="test_report">
      <div class="border-right"></div>
      <h2>Subtance.{{name}}</h2>
      <div class="tests">
        {{#each tests}}
          <div class="test">
            <div class="name">{{name}}</div>
            <div class="actions">
              {{#each actions}}
                <div class="action {{#ifelse error "error" "success"}}{{/ifelse}}">
                  <div class="status">
                    <i class="{{#ifelse error "icon-frown" "icon-smile"}}{{/ifelse}}"></i>
                  </div>
                    {{@index}}. {{label}}
                  {{# if error }}
                  <div class="error-message">{{error.message}}</div>
                  <div class="error-source">
                    <pre>{{sourcecode}}</pre>
                  </div>
                  <div class="stack-trace">
                    <pre>{{error.stack}}</pre>
                  </div>
                  {{/if}}
                  <div class="duration">
                     {{duration}} ms
                  </div>
                </div>
              {{/each}}
            </div>
          </div>
        {{/each}}
      </div>
    </script>

    <script src="lib/underscore.js"></script>
    <script src="lib/jquery.min.js"></script>
    <script src="lib/backbone.js"></script>
    <script src="lib/base64.js"></script>
    <script src="lib/jquery.timeago.js"></script>


    #####scripts#####

    <script>

      // var sandbox = new Substance.Sandbox();
      $(function() {
        var boot = require("/src/boot.js");
        window.Substance = boot();
        // sandbox.run();
      });

    </script>
  </head>
  <body>

  </body>
</html>
